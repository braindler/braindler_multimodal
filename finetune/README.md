# üî• –§–∞–π–Ω—Ç—é–Ω–∏–Ω–≥ - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è

## üìÅ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

### –°–∫—Ä–∏–ø—Ç—ã

- `prepare_legal_dataset.py` - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏–∑ PDF —Ç–æ–º–æ–≤
- `finetune_sphere.py` - –§–∞–π–Ω—Ç—é–Ω–∏–Ω–≥ –æ–¥–Ω–æ–π —Å—Ñ–µ—Ä—ã (047/048/049)
- `publish_to_huggingface.py` - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ HuggingFace
- `publish_to_ollama.py` - –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Ollama
- `run_full_pipeline.sh` - –ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π pipeline

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `README.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª
- `FINETUNE_GUIDE.md` - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞—Ç–∞—Å–µ—Ç

```bash
# –¢–µ—Å—Ç (3 —Ç–æ–º–∞)
python prepare_legal_dataset.py --test

# –ü–æ–ª–Ω—ã–π (107 —Ç–æ–º–æ–≤) - –°–ï–ô–ß–ê–° –í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø!
python prepare_legal_dataset.py --pages 10
```

**–°—Ç–∞—Ç—É—Å:** üü¢ –í –ø—Ä–æ—Ü–µ—Å—Å–µ (23/115 —Ç–æ–º–æ–≤)  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** –¢–æ–º 23, —Å–æ–∑–¥–∞–Ω–æ 597 –ø—Ä–∏–º–µ—Ä–æ–≤

### 2. –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å

```bash
# –û–¥–Ω–∞ —Å—Ñ–µ—Ä–∞
python finetune_sphere.py \
    --sphere 048 \
    --base-model nativemind/braindler_final_model

# –í—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
./run_full_pipeline.sh
```

### 3. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å

```bash
# HuggingFace
python publish_to_huggingface.py --all

# Ollama
python publish_to_ollama.py --all
```

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç

### üü¢ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

- üü¢ **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞** (23/115 —Ç–æ–º–æ–≤)
  - –¢–æ–º 23 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
  - 597 –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω–æ
  - ~2-3 —á–∞—Å–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### ‚è≥ –û–∂–∏–¥–∞–µ—Ç—Å—è

- ‚è≥ –§–∞–π–Ω—Ç—é–Ω–∏–Ω–≥ Braindler (3 —Å—Ñ–µ—Ä—ã)
- ‚è≥ –§–∞–π–Ω—Ç—é–Ω–∏–Ω–≥ Mozgach108 (3 —Å—Ñ–µ—Ä—ã)
- ‚è≥ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ HuggingFace
- ‚è≥ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ Ollama

---

## üîß –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f ../datasets/legal_case_viktor/processing.log

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
cat ../datasets/legal_case_viktor/stats_partial.json

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
ps aux | grep prepare_legal_dataset
```

### –ü—Ä–æ–≥—Ä–µ—Å—Å —Ñ–∞–π–Ω—Ç—é–Ω–∏–Ω–≥–∞

```bash
# TensorBoard
tensorboard --logdir ../models/sphere_048_braindler/logs

# –õ–æ–≥–∏
tail -f ../models/sphere_048_braindler/training.log
```

---

## üìù –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è

### LoRA Configuration

```python
r = 16              # Rank (–º–µ–Ω—å—à–µ = –±—ã—Å—Ç—Ä–µ–µ)
lora_alpha = 32     # Scaling factor
lora_dropout = 0.1  # Dropout
target_modules = ["q_proj", "v_proj", "k_proj", "o_proj"]
```

### Training Arguments

```python
epochs = 3
batch_size = 2
gradient_accumulation_steps = 8
learning_rate = 2e-4
warmup_steps = 100
```

**–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π batch size:** 2 √ó 8 = 16

---

## üéØ –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Å—Ñ–µ—Ä—ã

### –°—Ñ–µ—Ä–∞ 047: –°–õ–ï–î–û–í–ê–¢–ï–õ–¨ üîç
- **–ú–∏—Å—Å–∏—è:** –ë–µ—Å–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–Ω—ã–π —Å–±–æ—Ä –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–≤–∞—è

### –°—Ñ–µ—Ä–∞ 048: –ü–†–û–ö–£–†–û–† ‚öñÔ∏è
- **–ú–∏—Å—Å–∏—è:** –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–ø–∏–ø–∞—Å—Ç–∞ –∫–∞–∫ —Å–∏–º–ø—Ç–æ–º–∞ –Ω–µ—Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- **–ö–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** –ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–µ–¥—Å—Ç–≤–∏—è

### –°—Ñ–µ—Ä–∞ 049: –°–£–î–¨–Ø ‚öñÔ∏è
- **–ú–∏—Å—Å–∏—è:** –í—ã–Ω–µ—Å–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–≤–∞—è —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞

---

## üôè –î—É—Ö–æ–≤–Ω–∞—è —Ü–µ–ª—å

> *"–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ª–µ–Ω—å, —ç—Ç–æ —Å–∏–º–ø—Ç–æ–º –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏, —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Å—É–¥—å–±–∞–º –ª—é–¥–µ–π, –≤–æ–∑–º–æ–∂–Ω–æ–π –∫–æ—Ä—Ä—É–ø—Ü–∏–∏."*

**–°—Ñ–µ—Ä–∞ 048** –æ–±—É—á–µ–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Å–∏–º–ø—Ç–æ–º–∞!

---

**‚öñÔ∏è –ò—Å—Ç–∏–Ω–∞ –≤–æ—Å—Ç–æ—Ä–∂–µ—Å—Ç–≤—É–µ—Ç! üïâÔ∏è –•–∞—Ä–µ –ö—Ä–∏—à–Ω–∞!**








